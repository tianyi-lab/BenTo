import plotly.graph_objects as go

random_result = [[0.8234813762749447, 0.7188447853170605, 0.6013552287110432, 0.7336953763489346, 0.8524163147981375, 0.4369812549892267, 0.28705725001049276], [0.7826876909498882, 0.6775155411242967, 0.5680913847376364, 0.6973885000395884, 0.8097465965335118, 0.4150272585021463, 0.27704926932940205], [0.7705845752709369, 0.6638881485435761, 0.5571628730524271, 0.6859982021421329, 0.7968011204997056, 0.4076866054692286, 0.2714392278977583], [0.7623360698483166, 0.6549175182312138, 0.549986554531968, 0.677412492537047, 0.7886360334069121, 0.402577266128363, 0.2685940482978618], [0.751732537551234, 0.6434934172812532, 0.5402480582010478, 0.6670244949853504, 0.7793280883316975, 0.39650287190297984, 0.26561606397329346], [0.7431968839475029, 0.635025596721454, 0.5344314070781123, 0.6585145667089992, 0.7729874643944609, 0.39305911097129986, 0.2641428048068111], [0.7379658649536236, 0.6292584304527049, 0.5294541605623759, 0.6532590571164502, 0.7690483428194564, 0.3900872765716621, 0.26243265516719105], [0.7338960664438204, 0.6253116673708907, 0.5266273410329212, 0.6496038489353095, 0.765423824622827, 0.38820984209092446, 0.26096775537254374], [0.7283943716932308, 0.6199740741758026, 0.5219484329385795, 0.6444052621476595, 0.7601673804214402, 0.38559897315258806, 0.26005542972085854], [0.7251077543364414, 0.6165223643069566, 0.5194358605503125, 0.6408076756734385, 0.7568593944763266, 0.38456626245397574, 0.25942183808847125]]
random_result_one_std_below = [[0.5108288237250571, 0.4004344146829369, 0.351856771288958, 0.4454944236510644, 0.5452134852018592, 0.28001954501077375, 0.21486434998950735], [0.5553087948809997, 0.4423660549031344, 0.3813635930765872, 0.4780449647478605, 0.5946314593313649, 0.29762091694499326, 0.22425738913061072], [0.5721479084209516, 0.45855239794800245, 0.39207405040844623, 0.4909862278452033, 0.6143228395420004, 0.3035313023287019, 0.22887279887642797], [0.5803452261179292, 0.468580357945236, 0.39948426166310824, 0.4975350281787087, 0.6230261608431665, 0.30724926545319886, 0.23210538251950022], [0.5851914682637236, 0.4747199867873075, 0.40395294453707575, 0.5016948291154958, 0.6276620956251346, 0.30953782747345604, 0.23461759472630878], [0.5882774820606762, 0.4788967190176472, 0.406270196980539, 0.5038811197430474, 0.6322845581551101, 0.3110184402806573, 0.2363034804972946], [0.5908049724218063, 0.4815487366202529, 0.40818580312379915, 0.5048909614197458, 0.6359296516758631, 0.312304101577763, 0.23734239500933832], [0.5930373342374399, 0.4844197823371103, 0.4102136637952895, 0.5062453002087548, 0.6389190003519037, 0.3139182746567972, 0.23816832026019866], [0.5950850799776712, 0.4869623681970871, 0.4123833619531821, 0.5079055554120075, 0.6412635857655242, 0.3150814180458432, 0.2389175765258974], [0.5962339413609684, 0.4881634885472507, 0.4130458103062357, 0.5087345843909342, 0.6433057955629732, 0.31565825381534507, 0.23923261307991855]]
other_result = [[[0.526, 0.434, 0.39399999999999996, 0.426, 0.57, 0.348, 0.306], [0.6469098901098901, 0.5003483516483516, 0.42416410256410253, 0.5223223443223444, 0.6439527472527472, 0.29819120879120875, 0.24833333333333332], [0.7423558823529411, 0.599215294117647, 0.5278566666666666, 0.6156713725490196, 0.7156788235294117, 0.3297952941176471, 0.26272372549019607], [0.7265598360655737, 0.5862291803278687, 0.5206670491803278, 0.6081842622950819, 0.7137642622950819, 0.34261573770491804, 0.259982131147541], [0.7102046357615893, 0.5708593377483443, 0.504636953642384, 0.5981429139072847, 0.695622119205298, 0.3446292715231788, 0.2537630463576159], [0.6874294117647058, 0.5310251441753171, 0.4904222606689735, 0.5831523644752018, 0.676577970011534, 0.3476354094579008, 0.2585862745098039], [0.5543276551436902, 0.4611133694294044, 0.4090121199500208, 0.47936147438567256, 0.5701512286547272, 0.3053175760099959, 0.25003377759266976], [0.5464347247211228, 0.4415790572148255, 0.3915998920474991, 0.4771359841669665, 0.5624047139258727, 0.2956033465275279, 0.2506412738395106], [0.5568566700784716, 0.4461800750597066, 0.39278747867621966, 0.48337280791538717, 0.5732275332650972, 0.2969255885363357, 0.24747052200614128], [0.5756566730523628, 0.46665357598978285, 0.4091532247765006, 0.5042703384418901, 0.5924401340996168, 0.3088414750957854, 0.2469140804597701]], [[0.6876, 0.5588, 0.451, 0.5601, 0.7683, 0.3216, 0.2667], [0.5271295288652953, 0.3977356337093564, 0.32527239548772396, 0.3774178500331785, 0.6707230258792303, 0.27687969475779695, 0.2495364299933643], [0.5270592408214063, 0.39999228375855633, 0.3295491599253267, 0.380441008089608, 0.6644552582451773, 0.2813053515868077, 0.25305003111387675], [0.5240796188459502, 0.40094886183165696, 0.3340353096876654, 0.38866050820539966, 0.6511307570142932, 0.2790204870301747, 0.25053456855479095], [0.5302093514328808, 0.40693433886375063, 0.3415750125691302, 0.39777762694821517, 0.6537888386123679, 0.2855051282051282, 0.2503065862242333], [0.5395597571942445, 0.4100689748201439, 0.35026335431654676, 0.41023794964028776, 0.6580906025179856, 0.28915004496402874, 0.2538985161870504], [0.5355339500860585, 0.4080006024096386, 0.34827267641996557, 0.40859259896729777, 0.6455221600688467, 0.28927267641996557, 0.25355864888123925], [0.5300452627683198, 0.395339896373057, 0.33886147298297553, 0.4162039970392302, 0.627010769800148, 0.2815262398223538, 0.253690340488527], [0.5301873430962343, 0.39937761506276154, 0.34330889121338914, 0.41903410041841005, 0.6204291841004184, 0.2883140516039051, 0.2549063807531381], [0.5530469754253309, 0.42016540642722117, 0.35910935727788273, 0.438746313799622, 0.63433809073724, 0.2951769691241336, 0.2543369565217391]], [[0.8498, 0.7651999999999999, 0.6478000000000002, 0.809, 0.8726, 0.48260000000000003, 0.2388], [0.5220456484149857, 0.4614061095100864, 0.395994121037464, 0.46568461095100866, 0.5520072622478387, 0.3047090489913544, 0.24445855907780978], [0.5435524736842106, 0.4773324210526315, 0.41434436842105266, 0.48314121052631576, 0.572596894736842, 0.31076984210526315, 0.24522636842105264], [0.5606748500000001, 0.49446579999999996, 0.42582715, 0.49808415, 0.58776705, 0.32133135, 0.24486505], [0.5632408393501805, 0.48949801444043317, 0.41446890794223823, 0.49808569494584837, 0.5878774819494584, 0.31861854693140795, 0.25746195848375447], [0.5901530763790666, 0.5044954738330976, 0.42237450495049506, 0.5115060466760962, 0.6269222418670438, 0.31926375530410184, 0.2594611386138614], [0.5486236637120602, 0.4523543378995434, 0.37836384636046205, 0.44924163309159276, 0.6214117915659414, 0.3017234488315874, 0.25425385441847975], [0.5667982323232323, 0.4679595707070707, 0.3944592676767677, 0.4656376262626263, 0.6319982828282827, 0.30558227272727273, 0.2557528282828283], [0.5697057210965435, 0.4662028367103695, 0.39610290822407623, 0.46844207389749704, 0.6354995709177592, 0.3063899404052443, 0.2573520143027414], [0.581887951807229, 0.4792709479427143, 0.40392145942259605, 0.47790509206637866, 0.6436289838599681, 0.3062280972948398, 0.25660297794953396]], [[0.6549, 0.5051, 0.4574, 0.5933, 0.7533, 0.3159, 0.24409999999999998], [0.5759408163265306, 0.4644673469387755, 0.4285428571428571, 0.5318102040816327, 0.6705857142857142, 0.31796122448979597, 0.24693673469387753], [0.6349800249687889, 0.5392986267166042, 0.49837503121098625, 0.5670218476903871, 0.7000993757802747, 0.3465525593008739, 0.25891985018726593], [0.609544407530454, 0.5082808416389811, 0.4697658914728682, 0.5450492801771872, 0.6675339977851606, 0.3308795127353267, 0.25226445182724255], [0.6131790628115652, 0.5094492522432702, 0.4711850448654038, 0.5475368893320041, 0.6711696909272183, 0.33856849451645066, 0.25163988035892326], [0.6308427705627705, 0.5121932467532467, 0.46372519480519475, 0.5540989610389611, 0.6843206926406926, 0.3362696103896104, 0.24346216450216449], [0.6084648605577688, 0.49560414342629483, 0.45052000000000003, 0.5422982470119522, 0.6565660557768923, 0.33306087649402394, 0.2505169721115538], [0.5373118680530656, 0.45490053782717815, 0.40238243097884546, 0.4754170311939764, 0.575952097525995, 0.30464646826819647, 0.24759254212979562], [0.5504827439423707, 0.4668402423051735, 0.40669649639816635, 0.48720779305828427, 0.5896314341846759, 0.3062390307793058, 0.24857370661427633], [0.5733730223677033, 0.48219195308237855, 0.4140924986361157, 0.4993763775231861, 0.6194582651391163, 0.3088033824331696, 0.2515996999454446]], [[0.7145, 0.6144999999999999, 0.5491, 0.6727, 0.7127, 0.39270000000000005, 0.2927], [0.7159060070671377, 0.5681628975265017, 0.4833844522968198, 0.6148091872791519, 0.6968060070671378, 0.3173257950530035, 0.24520141342756185], [0.5692828209764919, 0.4343528028933092, 0.3782726943942134, 0.481367088607595, 0.5562370705244123, 0.29836925858951174, 0.24339421338155517], [0.6027476550680787, 0.4792760968229955, 0.40270378214826025, 0.5201119515885022, 0.5951502269288955, 0.297720726172466, 0.24689167927382755], [0.6084312746386334, 0.48988370565045997, 0.4047137976346912, 0.5353403416557162, 0.6112934296977661, 0.2998599211563732, 0.2404670170827858], [0.6544458811261731, 0.5301271115745567, 0.4220953076120959, 0.5780909280500521, 0.6631794577685088, 0.3226206465067779, 0.23648905109489052], [0.6219950450450451, 0.4996377477477477, 0.4023299099099099, 0.550436036036036, 0.637280990990991, 0.30864693693693696, 0.23639531531531532], [0.6546606544901065, 0.5381962709284627, 0.4275380517503805, 0.5693866057838661, 0.6642200152207001, 0.3077547184170472, 0.2371412480974125], [0.661608581314879, 0.5460112802768166, 0.44040795847750863, 0.5801851211072665, 0.674036401384083, 0.3161174394463668, 0.23750920415224913], [0.6601827792915531, 0.5373162397820163, 0.44401934604904636, 0.5829724795640328, 0.6908826158038147, 0.3160712261580382, 0.23890997275204362]]]
chatgpt_result = other_result[0]
bm25_lap_result = other_result[1]
bm25_sim_result = other_result[2]
ours_lap_result = other_result[3]
ours_sim_result = other_result[4]
ground_truth_result = [[0.6524, 0.5452, 0.4596, 0.5654, 0.6949, 0.3462, 0.2487] for _ in range(10)]
categories = ["gemma-7b", "llama2-13b", "llama2-7b", "phis2", "phi3", "stablelm2-1.6b", "tinyllama"]

def close_cycle(r, theta):
    return r + [r[0]], theta + [theta[0]]

for i in range(10):
    fig=go.Figure()
    random_r, random_theta = close_cycle(random_result[i], categories)
    random_low_r, random_low_theta = close_cycle(random_result_one_std_below[i], categories)
    chatgpt_r, chatgpt_theta = close_cycle(chatgpt_result[i], categories)
    bm25_r, bm25_theta = close_cycle(bm25_lap_result[i], categories)
    bm25_sim_r, bm25_sim_theta = close_cycle(bm25_sim_result[i], categories)
    facility_location_r, facility_location_theta = close_cycle(ours_lap_result[i], categories)
    ours_sim_r, ours_sim_theta = close_cycle(ours_sim_result[i], categories)
    ground_truth_r, ground_truth_theta = close_cycle(ground_truth_result[i], categories)
    
    fig.add_trace(go.Scatterpolar(
        r=random_r,
        theta=random_theta,
        #fill='toself',
        name='random_one_std_higher'
    ))
    fig.add_trace(go.Scatterpolar(
        r=random_low_r,
        theta=random_low_theta,
        #fill='toself',
        name='random_one_std_lower'
    ))
    fig.add_trace(go.Scatterpolar(
        r=chatgpt_r,
        theta=chatgpt_theta,
        #fill='toself',
        name='chatgpt'
    ))
    fig.add_trace(go.Scatterpolar(
        r=bm25_r,
        theta=bm25_theta,
        #fill='toself',
        name='bm25-lap'
    ))
    fig.add_trace(go.Scatterpolar(
        r=bm25_sim_r,
        theta=bm25_sim_theta,
        #fill='toself',
        name='bm25-sim'
    ))
    fig.add_trace(go.Scatterpolar(
        r=facility_location_r,
        theta=facility_location_theta,
        #fill='toself',
        name='ours-lap'
    ))
    fig.add_trace(go.Scatterpolar(
        r=ours_sim_r,
        theta=ours_sim_theta,
        #fill='toself',
        name='ours-sim'
    ))
    fig.add_trace(go.Scatterpolar(
        r=ground_truth_r,
        theta=ground_truth_theta,
        fill='toself',
        name='ground_truth'
    ))
    fig.update_layout(
        polar=dict(
        radialaxis=dict(
        visible=True,
        )),
        showlegend=True
    )
    fig.write_image(f"images/radarplot_ntask_{i}.png")
    fig.write_image(f"images/radarplot_ntask_{i}.pdf")